## История

Технология `hadoop` начала своё существование в <mark style="background: #FFF3A3A6;">2008</mark> году под лицензией Apache. Ей предшествовали такие технологии как <mark style="background: #FFF3A3A6;">Apache Nutch</mark>,  которая являлась опенсорсной альтернативой разработанной <mark style="background: #FF5582A6;">Doug Cutting</mark>. 
В 2004 году Google выпускает статьи про <mark style="background: #BBFABBA6;">GFS</mark> и <mark style="background: #BBFABBA6;">MapReduce</mark>.
Doug Cutting и команда Apache Nutch создали свою альтернативу на основе этих статей, после чего <mark style="background: #FFF3A3A6;">Yahoo! в 2006 году</mark> их наняла для работы над Hadoop. 

## Системные принципы Hadoop

Hadoop не монолитная система, у него есть своя [[Экосистема Hadoop]]. 
- Hadoop предоставляет <mark style="background: #FFB86CA6;">горизонтальное масштабирование</mark>(Scale-out) вместо вертикального(Scale-up)
- <mark style="background: #FFB86CA6;">Отказоустойчивость</mark>. Т.е. он работает, понимая, что какие-либо из нод могут упасть.
- <mark style="background: #FFB86CA6;">Отправка кода к данным</mark>, а не наоборот. Т.е. данные лишний раз не пересылаются по сети только потому, что код, который должен обработать эти данные на другой ноде.
- <mark style="background: #FFB86CA6;">Инкапсуляция</mark> сложности работы многопоточных и распределённых приложений. Т.е. логика, исходя из которой работает Hadoop не видна, а видна лишь интерактивная оболочка, через которую можно с ним работать.
## Масштабируемость

Есть два вида масштабирования вертикальное и горизонтальное. Hadoop в первую очередь поддерживает горизонтальное мастшабирование. 
Основные принципы вертикального и горизонтального масштабирования.
<mark style="background: #FFB86CA6;">Вертикальное</mark>:
- Добавление дополнительных ресурсов ([[CPU]], [[RAM]], [[GPU]], Memory) к железу.
- Если нет возможности улучшить железо, нужно купить новое, способное к апгрейду.
- [[Закон Мура]] не успевает за ростом объема данных.
<mark style="background: #FFB86CA6;">Горизонтальное</mark>:
 - Добавить больше машин к существующему кластеру(не обязательно покупать данные машины, их можно арендовать и подключить к локальной сети, для взаимодействия).
 - Приложение поддерживает как добавление, так и удаление серверов. Что позовляет регулировать стоимость аренды на облачных сервисах, а так же не генерировать простой оборудования на собственных кластерах.
 - Возможность масштабирования "вниз"(см. пункт выше, где описана вся логика).
 
## Данные к коду

Сервера делятся на 2 типа:
- Storage Node
- Processing Node
![[Pasted image 20250602191710.png]]
Если мы будем для обработки данных сначала данные с Storage Node копировать на Processing Node, а после обработки обратно, то возникнет проблема при увеличении количества данных, потому что пересылать большое количество данных по сети это: во-первых, не эффективно в данном случае, а во-вторых не безопасно.
Гораздо более эффективно в данной случае отправить код, который способен обработать данные на Storage Node и, соответсвтенно, обработать данные. 
<font color="#ff0000">Но, стоит учитывать</font>, что Processing Node и Storage Node, могут строиться по разным принципам, например, на <mark style="background: #FFF3A3A6;">Storage Node может быть крайне мало оперативной памяти</mark>, но физической памяти на накопителях([[SSD]], [[HDD]]), может быть много, из-за чего обработка данных может происходить медленно на Storage Node. В то время как на Processing Node, наоборот, архитектурно может быть больше оперативной памяти([[RAM]]), из-за чего <mark style="background: #FFF3A3A6;">скорость обработки данных будет выше именно на этих нодах</mark>.
В Hadoop применяется именно технология отправки кода к данным. 
![[Pasted image 20250602192729.png]]

## Отказоустойчивость
Hadoop запускается на большом кластере, где работает большое количество машин, а тем более на каждой машине ещё имеются диски, которые тоже могут выходить из строя. Соответсвенно необходимо разрабатывать систему устойчивую к отказам. Hadoop делает это следующим образом:
- [[Репликация данных]]
- Перезапуск тасков
## Инкапсуляция сложности реализации

- Hadoop скрывает сложности реализации многопоточных и распределённых систем, если пользователь сам не захочет посмотреть каким-образом данные внутри Hadoop распределяются;
- Освобождает разработчиков от заботы о проблемах системного уровня:
	- Race conditions, ожидание данных;
	- Организация передачи данных, распределения данных, перераспределения данных посл масштабирования, доставка кода и т.д..
- Позволяет разработчику сосредоточиться на разработке бизнес-логики приложения.


## Кластер Hadoop

- Обычно состоит из относительно "дешёвого" серверного железа
- Соединённого по сети
- Находящегося в одном месте
## Хранение данных

- Ёмкость дисков выросла экспоненциально относительно скорости чтения дисков
	- 1990
		- Ёмкость 1400 МБ
		- Скорость чтения 4.5 МБ/с
		- Чтение всего диска 5 мин
	- 2010
		- Ёмкость 1 ТБ
		- Скорость чтения 100 МБ/с
		- Чтение всего диска 3 часа
- Hadoop
	- 100 HDD одновременно могут прочитать 1 ТБ данных за 2 минуты.

#hadoop #big_data #scalability #durability 